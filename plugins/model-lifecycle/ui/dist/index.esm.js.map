{"version":3,"file":"index.esm.js","sources":["../node_modules/lucide-react/dist/esm/defaultAttributes.js","../node_modules/lucide-react/dist/esm/createLucideIcon.js","../node_modules/lucide-react/dist/esm/icons/arrow-down.js","../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../node_modules/lucide-react/dist/esm/icons/arrow-up.js","../node_modules/lucide-react/dist/esm/icons/check.js","../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../node_modules/lucide-react/dist/esm/icons/file-text.js","../node_modules/lucide-react/dist/esm/icons/git-commit-vertical.js","../node_modules/lucide-react/dist/esm/icons/layers.js","../node_modules/lucide-react/dist/esm/icons/list.js","../node_modules/lucide-react/dist/esm/icons/pencil.js","../node_modules/lucide-react/dist/esm/icons/plus.js","../node_modules/lucide-react/dist/esm/icons/settings.js","../node_modules/lucide-react/dist/esm/icons/trash-2.js","../node_modules/lucide-react/dist/esm/icons/upload.js","../node_modules/lucide-react/dist/esm/icons/x.js","../src/useModelLifecycle.ts","../src/LifecycleSidebar.tsx","../src/LifecycleItemField.tsx","../src/LifecyclePhaseContent.tsx","../src/LifecycleStepperLayout.tsx","../src/LifecycleProgressBar.tsx","../src/LifecyclePhasePanel.tsx","../src/ModelLifecycleTab.tsx","../src/ModelLifecycleConfig.tsx","../src/ViewLifecycleButton.tsx","../src/ModelLifecycleDetail.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase().trim();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, className = \"\", children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowDown = createLucideIcon(\"ArrowDown\", [\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }],\n  [\"path\", { d: \"m19 12-7 7-7-7\", key: \"1idqje\" }]\n]);\n\nexport { ArrowDown as default };\n//# sourceMappingURL=arrow-down.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowLeft = createLucideIcon(\"ArrowLeft\", [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n]);\n\nexport { ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowUp = createLucideIcon(\"ArrowUp\", [\n  [\"path\", { d: \"m5 12 7-7 7 7\", key: \"hav0vg\" }],\n  [\"path\", { d: \"M12 19V5\", key: \"x0mq9r\" }]\n]);\n\nexport { ArrowUp as default };\n//# sourceMappingURL=arrow-up.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"13\", y2: \"13\", key: \"14keom\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"17\", y2: \"17\", key: \"17nazh\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"9\", y2: \"9\", key: \"1a5vjj\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst GitCommitVertical = createLucideIcon(\"GitCommitVertical\", [\n  [\"path\", { d: \"M12 3v6\", key: \"1holv5\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }],\n  [\"path\", { d: \"M12 15v6\", key: \"a9ows0\" }]\n]);\n\nexport { GitCommitVertical as default };\n//# sourceMappingURL=git-commit-vertical.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Layers = createLucideIcon(\"Layers\", [\n  [\n    \"path\",\n    {\n      d: \"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z\",\n      key: \"8b97xw\"\n    }\n  ],\n  [\"path\", { d: \"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65\", key: \"dd6zsq\" }],\n  [\"path\", { d: \"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65\", key: \"ep9fru\" }]\n]);\n\nexport { Layers as default };\n//# sourceMappingURL=layers.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst List = createLucideIcon(\"List\", [\n  [\"line\", { x1: \"8\", x2: \"21\", y1: \"6\", y2: \"6\", key: \"7ey8pc\" }],\n  [\"line\", { x1: \"8\", x2: \"21\", y1: \"12\", y2: \"12\", key: \"rjfblc\" }],\n  [\"line\", { x1: \"8\", x2: \"21\", y1: \"18\", y2: \"18\", key: \"c3b1m8\" }],\n  [\"line\", { x1: \"3\", x2: \"3.01\", y1: \"6\", y2: \"6\", key: \"1g7gq3\" }],\n  [\"line\", { x1: \"3\", x2: \"3.01\", y1: \"12\", y2: \"12\", key: \"1pjlvk\" }],\n  [\"line\", { x1: \"3\", x2: \"3.01\", y1: \"18\", y2: \"18\", key: \"28t2mc\" }]\n]);\n\nexport { List as default };\n//# sourceMappingURL=list.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pencil = createLucideIcon(\"Pencil\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n]);\n\nexport { Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * Model Lifecycle Hooks\n *\n * React hooks for fetching and managing model lifecycle data via the plugin API.\n */\n\nimport { useState, useEffect, useCallback } from \"react\";\n\n// ========== TYPE DEFINITIONS ==========\n\nexport type LifecycleItemType =\n  | \"text\"\n  | \"textarea\"\n  | \"documents\"\n  | \"people\"\n  | \"classification\"\n  | \"checklist\"\n  | \"approval\";\n\nexport interface LifecyclePhase {\n  id: number;\n  name: string;\n  description?: string;\n  display_order: number;\n  is_active: boolean;\n  items?: LifecycleItem[];\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface LifecycleItem {\n  id: number;\n  phase_id: number;\n  name: string;\n  description?: string;\n  item_type: LifecycleItemType;\n  is_required: boolean;\n  display_order: number;\n  config: Record<string, any>;\n  is_active: boolean;\n  value?: LifecycleValue | null;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface LifecycleValue {\n  id: number;\n  model_inventory_id: number;\n  item_id: number;\n  value_text?: string | null;\n  value_json?: any;\n  files?: LifecycleItemFile[];\n  updated_by?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface LifecycleItemFile {\n  id: number;\n  value_id: number;\n  file_id: number;\n  filename?: string;\n  mimetype?: string;\n  created_at?: string;\n}\n\nexport interface LifecyclePhaseProgress {\n  phase_id: number;\n  phase_name: string;\n  total_items: number;\n  filled_items: number;\n  required_items: number;\n  filled_required_items: number;\n}\n\nexport interface LifecycleProgress {\n  phases: LifecyclePhaseProgress[];\n  total_items: number;\n  filled_items: number;\n  total_required: number;\n  filled_required: number;\n  completion_percentage: number;\n}\n\n// ========== API SERVICE TYPE ==========\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\n// ========== HOOKS ==========\n\ninterface UseModelLifecycleResult {\n  phases: LifecyclePhase[];\n  loading: boolean;\n  error: string | null;\n  refresh: () => void;\n}\n\nexport function useModelLifecycle(\n  modelId: number | null,\n  apiServices?: ApiServices,\n  enabled = true\n): UseModelLifecycleResult {\n  const [phases, setPhases] = useState<LifecyclePhase[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    if (!modelId || !enabled || !apiServices) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await apiServices.get<{ data: LifecyclePhase[] }>(\n        `/plugins/model-lifecycle/models/${modelId}/lifecycle`\n      );\n      setPhases((response.data as any)?.data || response.data || []);\n    } catch (err) {\n      setError((err as Error).message || \"Failed to load lifecycle data\");\n    } finally {\n      setLoading(false);\n    }\n  }, [modelId, enabled, apiServices]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { phases, loading, error, refresh: fetchData };\n}\n\ninterface UseLifecycleProgressResult {\n  progress: LifecycleProgress | null;\n  loading: boolean;\n  error: string | null;\n  refresh: () => void;\n}\n\nexport function useLifecycleProgress(\n  modelId: number | null,\n  apiServices?: ApiServices,\n  enabled = true\n): UseLifecycleProgressResult {\n  const [progress, setProgress] = useState<LifecycleProgress | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    if (!modelId || !enabled || !apiServices) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await apiServices.get<{ data: LifecycleProgress }>(\n        `/plugins/model-lifecycle/models/${modelId}/lifecycle/progress`\n      );\n      setProgress((response.data as any)?.data || response.data || null);\n    } catch (err) {\n      setError((err as Error).message || \"Failed to load lifecycle progress\");\n    } finally {\n      setLoading(false);\n    }\n  }, [modelId, enabled, apiServices]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { progress, loading, error, refresh: fetchData };\n}\n\ninterface UseLifecycleConfigResult {\n  phases: LifecyclePhase[];\n  loading: boolean;\n  error: string | null;\n  refresh: () => void;\n  setPhases: React.Dispatch<React.SetStateAction<LifecyclePhase[]>>;\n}\n\nexport function useLifecycleConfig(\n  apiServices?: ApiServices,\n  includeInactive = false,\n  enabled = true\n): UseLifecycleConfigResult {\n  const [phases, setPhases] = useState<LifecyclePhase[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    if (!enabled || !apiServices) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const query = includeInactive ? \"?includeInactive=true\" : \"\";\n      const response = await apiServices.get<{ data: LifecyclePhase[] }>(\n        `/plugins/model-lifecycle/config${query}`\n      );\n      setPhases((response.data as any)?.data || response.data || []);\n    } catch (err) {\n      setError((err as Error).message || \"Failed to load lifecycle config\");\n    } finally {\n      setLoading(false);\n    }\n  }, [includeInactive, enabled, apiServices]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { phases, loading, error, refresh: fetchData, setPhases };\n}\n","import React, { useMemo, useCallback } from \"react\";\nimport { Stack, Typography, Box } from \"@mui/material\";\nimport { Check } from \"lucide-react\";\nimport { LifecyclePhase, LifecycleProgress } from \"./useModelLifecycle\";\n\ninterface LifecycleSidebarProps {\n  phases: LifecyclePhase[];\n  progress: LifecycleProgress | null;\n  activePhaseId: number | null;\n  onPhaseSelect: (phaseId: number) => void;\n}\n\nexport default function LifecycleSidebar({\n  phases,\n  progress,\n  activePhaseId,\n  onPhaseSelect,\n}: LifecycleSidebarProps) {\n  const phaseData = useMemo(() => {\n    return phases.map((phase) => {\n      const phaseProgress = progress?.phases.find(\n        (p) => p.phase_id === phase.id\n      );\n      return {\n        id: phase.id,\n        name: phase.name,\n        totalItems: phaseProgress?.total_items ?? phase.items?.length ?? 0,\n        filledItems: phaseProgress?.filled_items ?? 0,\n      };\n    });\n  }, [phases, progress]);\n\n  const handleClick = useCallback(\n    (phaseId: number) => {\n      onPhaseSelect(phaseId);\n    },\n    [onPhaseSelect]\n  );\n\n  return (\n    <Stack\n      sx={{\n        width: 280,\n        minWidth: 280,\n        borderRight: \"1px solid #E0E4E9\",\n        backgroundColor: \"#FCFCFD\",\n      }}\n    >\n      <Box sx={{ px: \"20px\", py: \"16px\", borderBottom: \"1px solid #E0E4E9\" }}>\n        <Typography sx={{ fontWeight: 600, fontSize: \"13px\", color: \"#344054\", mb: \"4px\" }}>\n          Lifecycle Progress\n        </Typography>\n        <Typography sx={{ fontSize: \"12px\", color: \"#667085\" }}>\n          {progress?.completion_percentage ?? 0}% complete\n          {progress ? ` (${progress.filled_items}/${progress.total_items} items)` : \"\"}\n        </Typography>\n      </Box>\n\n      <Stack sx={{ py: \"8px\" }}>\n        {phaseData.map((phase, index) => {\n          const isActive = phase.id === activePhaseId;\n          const isComplete =\n            phase.totalItems > 0 && phase.filledItems === phase.totalItems;\n          const hasProgress = phase.filledItems > 0;\n\n          return (\n            <Stack\n              key={phase.id}\n              direction=\"row\"\n              alignItems=\"center\"\n              onClick={() => handleClick(phase.id)}\n              sx={{\n                px: \"20px\",\n                py: \"10px\",\n                gap: \"12px\",\n                cursor: \"pointer\",\n                borderLeft: isActive\n                  ? \"3px solid #13715B\"\n                  : \"3px solid transparent\",\n                backgroundColor: isActive\n                  ? \"rgba(19,113,91,0.06)\"\n                  : \"transparent\",\n                \"&:hover\": {\n                  backgroundColor: isActive\n                    ? \"rgba(19,113,91,0.06)\"\n                    : \"#F9FAFB\",\n                },\n                transition: \"background-color 0.15s ease\",\n              }}\n            >\n              <Box\n                sx={{\n                  width: 24,\n                  height: 24,\n                  minWidth: 24,\n                  borderRadius: \"50%\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  backgroundColor: isComplete || isActive ? \"#13715B\" : \"#E0E4E9\",\n                  color: isComplete || isActive ? \"#fff\" : \"#667085\",\n                  fontSize: \"11px\",\n                  fontWeight: 600,\n                }}\n              >\n                {isComplete ? <Check size={14} /> : index + 1}\n              </Box>\n\n              <Stack sx={{ flex: 1, minWidth: 0 }}>\n                <Typography\n                  sx={{\n                    fontSize: \"13px\",\n                    fontWeight: isActive ? 600 : 400,\n                    color: \"#344054\",\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    whiteSpace: \"nowrap\",\n                  }}\n                >\n                  {phase.name}\n                </Typography>\n                <Typography\n                  sx={{\n                    fontSize: \"11px\",\n                    color: hasProgress ? \"#475467\" : \"#667085\",\n                  }}\n                >\n                  {phase.filledItems}/{phase.totalItems} items\n                </Typography>\n              </Stack>\n            </Stack>\n          );\n        })}\n      </Stack>\n    </Stack>\n  );\n}\n","/**\n * LifecycleItemField - Renders the correct field UI based on item_type.\n * Uses VerifyWise styling patterns.\n */\n\nimport React, { useState, useCallback, useRef } from \"react\";\nimport {\n  Stack,\n  Typography,\n  Box,\n  IconButton,\n  CircularProgress,\n  TextField,\n  Checkbox,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Select,\n  MenuItem,\n  Chip,\n  Button,\n} from \"@mui/material\";\nimport { Trash2, Upload, FileText, Check, X, Plus } from \"lucide-react\";\nimport { LifecycleItem, LifecycleValue } from \"./useModelLifecycle\";\n\n// ============================================================================\n// VerifyWise Theme Constants\n// ============================================================================\n\nconst VW_COLORS = {\n  primary: \"#13715B\",\n  primaryDark: \"#10614d\",\n  textPrimary: \"#1c2130\",\n  textSecondary: \"#344054\",\n  textTertiary: \"#475467\",\n  textAccent: \"#838c99\",\n  bgMain: \"#FFFFFF\",\n  bgAlt: \"#FCFCFD\",\n  bgFill: \"#F4F4F4\",\n  bgAccent: \"#f9fafb\",\n  borderLight: \"#eaecf0\",\n  borderDark: \"#d0d5dd\",\n  error: \"#f04438\",\n  errorBg: \"#FEE2E2\",\n  success: \"#17b26a\",\n  successBg: \"#ecfdf3\",\n};\n\nconst VW_TYPOGRAPHY = {\n  fontFamily: \"'Inter', system-ui, -apple-system, sans-serif\",\n  fontSize: 13,\n};\n\n// Shared input styles\nconst vwInputSx = {\n  \"& .MuiInputBase-root\": {\n    fontFamily: VW_TYPOGRAPHY.fontFamily,\n    fontSize: \"13px\",\n    borderRadius: \"4px\",\n  },\n  \"& .MuiOutlinedInput-root\": {\n    \"& fieldset\": { borderColor: VW_COLORS.borderDark },\n    \"&:hover fieldset\": { borderColor: VW_COLORS.primary },\n    \"&.Mui-focused fieldset\": { borderColor: VW_COLORS.primary },\n  },\n};\n\nconst vwButtonOutlined = {\n  textTransform: \"none\" as const,\n  fontWeight: 500,\n  fontSize: \"13px\",\n  fontFamily: VW_TYPOGRAPHY.fontFamily,\n  borderRadius: \"4px\",\n  borderColor: VW_COLORS.borderDark,\n  color: VW_COLORS.textSecondary,\n  \"&:hover\": {\n    borderColor: VW_COLORS.primary,\n    color: VW_COLORS.primary,\n    backgroundColor: \"rgba(19, 113, 91, 0.04)\",\n  },\n};\n\nconst vwChipSx = {\n  fontFamily: VW_TYPOGRAPHY.fontFamily,\n  fontSize: \"12px\",\n  fontWeight: 500,\n  borderRadius: \"4px\",\n};\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any, config?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface LifecycleItemFieldProps {\n  modelId: number;\n  item: LifecycleItem;\n  onValueChanged?: () => void;\n  apiServices?: ApiServices;\n}\n\nexport default function LifecycleItemField({\n  modelId,\n  item,\n  onValueChanged,\n  apiServices,\n}: LifecycleItemFieldProps) {\n  const value = item.value;\n\n  switch (item.item_type) {\n    case \"text\":\n      return (\n        <TextFieldRenderer\n          modelId={modelId} item={item} value={value}\n          multiline={false} onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    case \"textarea\":\n      return (\n        <TextFieldRenderer\n          modelId={modelId} item={item} value={value}\n          multiline onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    case \"documents\":\n      return (\n        <DocumentsFieldRenderer\n          modelId={modelId} item={item} value={value}\n          onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    case \"people\":\n      return (\n        <PeopleFieldRenderer\n          modelId={modelId} item={item} value={value}\n          onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    case \"classification\":\n      return (\n        <ClassificationFieldRenderer\n          modelId={modelId} item={item} value={value}\n          onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    case \"checklist\":\n      return (\n        <ChecklistFieldRenderer\n          modelId={modelId} item={item} value={value}\n          onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    case \"approval\":\n      return (\n        <ApprovalFieldRenderer\n          modelId={modelId} item={item} value={value}\n          onValueChanged={onValueChanged} apiServices={apiServices}\n        />\n      );\n    default:\n      return (\n        <Typography color=\"text.secondary\" variant=\"body2\">\n          Unsupported field type: {item.item_type}\n        </Typography>\n      );\n  }\n}\n\n// ============================================================================\n// Text / Textarea\n// ============================================================================\n\nfunction TextFieldRenderer({\n  modelId, item, value, multiline, onValueChanged, apiServices,\n}: {\n  modelId: number; item: LifecycleItem; value: LifecycleValue | null | undefined;\n  multiline: boolean; onValueChanged?: () => void; apiServices?: ApiServices;\n}) {\n  const config = item.config as { placeholder?: string; maxLength?: number };\n  const [text, setText] = useState(value?.value_text ?? \"\");\n  const [saving, setSaving] = useState(false);\n  const savedRef = useRef(value?.value_text ?? \"\");\n\n  const handleBlur = useCallback(async () => {\n    if (text === savedRef.current) return;\n    setSaving(true);\n    try {\n      await apiServices?.put(\n        `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}`,\n        { value_text: text || null }\n      );\n      savedRef.current = text;\n      onValueChanged?.();\n    } catch { /* keep current text */ } finally { setSaving(false); }\n  }, [text, modelId, item.id, onValueChanged, apiServices]);\n\n  return (\n    <TextField\n      placeholder={config?.placeholder || `Enter ${item.name.toLowerCase()}`}\n      value={text}\n      onChange={(e) => {\n        if (config?.maxLength && e.target.value.length > config.maxLength) return;\n        setText(e.target.value);\n      }}\n      onBlur={handleBlur}\n      multiline={multiline}\n      rows={multiline ? 3 : undefined}\n      size=\"small\"\n      fullWidth\n      sx={vwInputSx}\n      InputProps={{\n        endAdornment: saving ? <CircularProgress size={14} sx={{ color: VW_COLORS.primary }} /> : undefined,\n      }}\n    />\n  );\n}\n\n// ============================================================================\n// Documents\n// ============================================================================\n\nfunction DocumentsFieldRenderer({\n  modelId, item, value, onValueChanged, apiServices,\n}: {\n  modelId: number; item: LifecycleItem; value: LifecycleValue | null | undefined;\n  onValueChanged?: () => void; apiServices?: ApiServices;\n}) {\n  const files = value?.files ?? [];\n  const [uploading, setUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = useCallback(\n    async (e: React.ChangeEvent<HTMLInputElement>) => {\n      const selectedFiles = e.target.files;\n      if (!selectedFiles || selectedFiles.length === 0 || !apiServices) return;\n\n      setUploading(true);\n      try {\n        for (const file of Array.from(selectedFiles)) {\n          const formData = new FormData();\n          formData.append(\"file\", file);\n          formData.append(\"source\", \"File Manager\");\n          const result = await apiServices.post<{ data: { id: number } }>(\n            \"/files\",\n            formData,\n            { headers: { \"Content-Type\": \"multipart/form-data\" } }\n          );\n          const fileId = (result.data as any)?.data?.id || (result.data as any)?.id;\n          await apiServices.post(\n            `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}/files`,\n            { fileId }\n          );\n        }\n        onValueChanged?.();\n      } catch { /* upload failed */ } finally {\n        setUploading(false);\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n      }\n    },\n    [modelId, item.id, onValueChanged, apiServices]\n  );\n\n  const handleRemoveFile = useCallback(\n    async (fileId: number) => {\n      try {\n        await apiServices?.delete(\n          `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}/files/${fileId}`\n        );\n        onValueChanged?.();\n      } catch { /* retry */ }\n    },\n    [modelId, item.id, onValueChanged, apiServices]\n  );\n\n  return (\n    <Stack sx={{ gap: \"12px\" }}>\n      {files.length > 0 && (\n        <Stack sx={{ gap: \"8px\" }}>\n          {files.map((file) => (\n            <Stack\n              key={file.id}\n              direction=\"row\"\n              alignItems=\"center\"\n              sx={{\n                gap: \"10px\",\n                p: \"10px 12px\",\n                borderRadius: \"4px\",\n                border: `1px solid ${VW_COLORS.borderLight}`,\n                backgroundColor: VW_COLORS.bgAccent,\n              }}\n            >\n              <FileText size={16} color={VW_COLORS.textAccent} />\n              <Typography\n                sx={{\n                  flex: 1,\n                  fontFamily: VW_TYPOGRAPHY.fontFamily,\n                  fontSize: \"13px\",\n                  color: VW_COLORS.textSecondary,\n                }}\n              >\n                {file.filename || `File #${file.file_id}`}\n              </Typography>\n              <IconButton\n                size=\"small\"\n                onClick={() => handleRemoveFile(file.file_id)}\n                aria-label=\"Remove file\"\n                sx={{ color: VW_COLORS.textAccent, \"&:hover\": { color: VW_COLORS.error } }}\n              >\n                <Trash2 size={14} />\n              </IconButton>\n            </Stack>\n          ))}\n        </Stack>\n      )}\n      <Box\n        sx={{\n          border: `1px dashed ${VW_COLORS.borderDark}`,\n          borderRadius: \"4px\",\n          p: \"20px 16px\",\n          textAlign: \"center\",\n          cursor: \"pointer\",\n          transition: \"all 0.15s ease\",\n          \"&:hover\": {\n            backgroundColor: VW_COLORS.bgAccent,\n            borderColor: VW_COLORS.primary,\n          },\n        }}\n        onClick={() => fileInputRef.current?.click()}\n      >\n        {uploading ? (\n          <CircularProgress size={20} sx={{ color: VW_COLORS.primary }} />\n        ) : (\n          <Stack direction=\"row\" sx={{ gap: \"8px\", justifyContent: \"center\", alignItems: \"center\" }}>\n            <Upload size={16} color={VW_COLORS.textAccent} />\n            <Typography\n              sx={{\n                fontFamily: VW_TYPOGRAPHY.fontFamily,\n                fontSize: \"13px\",\n                color: VW_COLORS.textTertiary,\n              }}\n            >\n              Click to upload documents\n            </Typography>\n          </Stack>\n        )}\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          hidden\n          accept=\".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt,.md\"\n          onChange={handleFileSelect}\n        />\n      </Box>\n    </Stack>\n  );\n}\n\n// ============================================================================\n// People\n// ============================================================================\n\ninterface User {\n  id: number;\n  name: string;\n  surname: string;\n  email: string;\n}\n\nfunction PeopleFieldRenderer({\n  modelId, item, value, onValueChanged, apiServices,\n}: {\n  modelId: number; item: LifecycleItem; value: LifecycleValue | null | undefined;\n  onValueChanged?: () => void; apiServices?: ApiServices;\n}) {\n  const currentPeople: { userId: number; userName?: string }[] = Array.isArray(value?.value_json)\n    ? (value.value_json as { userId: number; userName?: string }[])\n    : [];\n  const [selectedUserId, setSelectedUserId] = useState<number | \"\">(\"\");\n  const [saving, setSaving] = useState(false);\n  const [users, setUsers] = useState<User[]>([]);\n  const [loadingUsers, setLoadingUsers] = useState(true);\n\n  // Fetch users on mount\n  React.useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const response = await apiServices?.get<{ data: User[] }>(\"/users\");\n        const usersData = (response?.data as any)?.data || response?.data || [];\n        setUsers(Array.isArray(usersData) ? usersData : []);\n      } catch { /* ignore */ } finally { setLoadingUsers(false); }\n    };\n    fetchUsers();\n  }, [apiServices]);\n\n  const getUserName = useCallback((userId: number) => {\n    const user = users.find(u => u.id === userId);\n    return user ? `${user.name} ${user.surname}` : `User #${userId}`;\n  }, [users]);\n\n  const handleAdd = useCallback(async () => {\n    if (!selectedUserId || currentPeople.find((p) => p.userId === selectedUserId)) return;\n    setSaving(true);\n    try {\n      const userName = getUserName(selectedUserId);\n      const updated = [...currentPeople, { userId: selectedUserId, userName }];\n      await apiServices?.put(\n        `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}`,\n        { value_json: updated }\n      );\n      setSelectedUserId(\"\");\n      onValueChanged?.();\n    } catch { /* retry */ } finally { setSaving(false); }\n  }, [selectedUserId, currentPeople, modelId, item.id, onValueChanged, apiServices, getUserName]);\n\n  const handleRemove = useCallback(async (userId: number) => {\n    setSaving(true);\n    try {\n      const updated = currentPeople.filter(p => p.userId !== userId);\n      await apiServices?.put(\n        `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}`,\n        { value_json: updated }\n      );\n      onValueChanged?.();\n    } catch { /* retry */ } finally { setSaving(false); }\n  }, [currentPeople, modelId, item.id, onValueChanged, apiServices]);\n\n  const availableUsers = users.filter(u => !currentPeople.find(p => p.userId === u.id));\n\n  return (\n    <Stack sx={{ gap: \"10px\" }}>\n      {currentPeople.length > 0 && (\n        <Stack direction=\"row\" flexWrap=\"wrap\" sx={{ gap: \"8px\" }}>\n          {currentPeople.map((p) => (\n            <Chip\n              key={p.userId}\n              label={p.userName || getUserName(p.userId)}\n              size=\"small\"\n              variant=\"outlined\"\n              onDelete={() => handleRemove(p.userId)}\n              sx={{\n                ...vwChipSx,\n                borderColor: VW_COLORS.borderDark,\n                color: VW_COLORS.textSecondary,\n                \"& .MuiChip-deleteIcon\": {\n                  color: VW_COLORS.textAccent,\n                  \"&:hover\": { color: VW_COLORS.error },\n                },\n              }}\n            />\n          ))}\n        </Stack>\n      )}\n      <Stack direction=\"row\" sx={{ gap: \"8px\" }}>\n        <Select\n          value={selectedUserId}\n          onChange={(e) => setSelectedUserId(e.target.value as number)}\n          size=\"small\"\n          displayEmpty\n          sx={{\n            flex: 1,\n            ...vwInputSx,\n            \"& .MuiSelect-select\": {\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              fontSize: \"13px\",\n            },\n          }}\n          disabled={loadingUsers}\n        >\n          <MenuItem value=\"\" disabled sx={{ fontFamily: VW_TYPOGRAPHY.fontFamily, fontSize: \"13px\" }}>\n            {loadingUsers ? \"Loading users...\" : \"Select a user...\"}\n          </MenuItem>\n          {availableUsers.map((user) => (\n            <MenuItem key={user.id} value={user.id} sx={{ fontFamily: VW_TYPOGRAPHY.fontFamily, fontSize: \"13px\" }}>\n              {user.name} {user.surname} ({user.email})\n            </MenuItem>\n          ))}\n        </Select>\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={handleAdd}\n          disabled={saving || !selectedUserId}\n          sx={vwButtonOutlined}\n        >\n          Add\n        </Button>\n      </Stack>\n      {saving && <CircularProgress size={14} sx={{ color: VW_COLORS.primary }} />}\n    </Stack>\n  );\n}\n\n// ============================================================================\n// Classification\n// ============================================================================\n\nfunction ClassificationFieldRenderer({\n  modelId, item, value, onValueChanged, apiServices,\n}: {\n  modelId: number; item: LifecycleItem; value: LifecycleValue | null | undefined;\n  onValueChanged?: () => void; apiServices?: ApiServices;\n}) {\n  const config = item.config as { levels?: string[] };\n  const levels = config?.levels ?? [];\n  const currentValue = (value?.value_json as { level?: string })?.level ?? \"\";\n  const [selected, setSelected] = useState(currentValue);\n  const [saving, setSaving] = useState(false);\n\n  const handleChange = useCallback(\n    async (level: string) => {\n      setSelected(level);\n      setSaving(true);\n      try {\n        await apiServices?.put(\n          `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}`,\n          { value_json: { level } }\n        );\n        onValueChanged?.();\n      } catch { /* keep selection */ } finally { setSaving(false); }\n    },\n    [modelId, item.id, onValueChanged, apiServices]\n  );\n\n  return (\n    <Stack sx={{ gap: \"8px\" }}>\n      <RadioGroup value={selected} onChange={(e) => handleChange(e.target.value)}>\n        {levels.map((level) => (\n          <FormControlLabel\n            key={level}\n            value={level}\n            control={\n              <Radio\n                size=\"small\"\n                sx={{\n                  color: VW_COLORS.borderDark,\n                  \"&.Mui-checked\": { color: VW_COLORS.primary },\n                }}\n              />\n            }\n            label={\n              <Typography\n                sx={{\n                  fontFamily: VW_TYPOGRAPHY.fontFamily,\n                  fontSize: \"13px\",\n                  color: VW_COLORS.textSecondary,\n                }}\n              >\n                {level}\n              </Typography>\n            }\n            sx={{ marginLeft: 0 }}\n          />\n        ))}\n      </RadioGroup>\n      {saving && <CircularProgress size={14} sx={{ color: VW_COLORS.primary }} />}\n    </Stack>\n  );\n}\n\n// ============================================================================\n// Checklist\n// ============================================================================\n\ninterface ChecklistValue { label: string; checked: boolean; }\n\nfunction ChecklistFieldRenderer({\n  modelId, item, value, onValueChanged, apiServices,\n}: {\n  modelId: number; item: LifecycleItem; value: LifecycleValue | null | undefined;\n  onValueChanged?: () => void; apiServices?: ApiServices;\n}) {\n  const config = item.config as { defaultItems?: string[] };\n  const defaultItems: ChecklistValue[] = (config?.defaultItems ?? []).map(\n    (label) => ({ label, checked: false })\n  );\n  const savedItems: ChecklistValue[] = Array.isArray(value?.value_json)\n    ? (value.value_json as ChecklistValue[])\n    : defaultItems;\n  const [items, setItems] = useState<ChecklistValue[]>(\n    savedItems.length > 0 ? savedItems : defaultItems\n  );\n  const [saving, setSaving] = useState(false);\n  const [newItemText, setNewItemText] = useState(\"\");\n\n  const saveItems = useCallback(\n    async (updatedItems: ChecklistValue[]) => {\n      setSaving(true);\n      try {\n        await apiServices?.put(\n          `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}`,\n          { value_json: updatedItems }\n        );\n        onValueChanged?.();\n      } catch { /* keep state */ } finally { setSaving(false); }\n    },\n    [modelId, item.id, onValueChanged, apiServices]\n  );\n\n  const toggleItem = useCallback(\n    (index: number) => {\n      const updated = items.map((it, i) =>\n        i === index ? { ...it, checked: !it.checked } : it\n      );\n      setItems(updated);\n      saveItems(updated);\n    },\n    [items, saveItems]\n  );\n\n  const addItem = useCallback(() => {\n    if (!newItemText.trim()) return;\n    const updated = [...items, { label: newItemText.trim(), checked: false }];\n    setItems(updated);\n    setNewItemText(\"\");\n    saveItems(updated);\n  }, [items, newItemText, saveItems]);\n\n  const removeItem = useCallback(\n    (index: number) => {\n      const updated = items.filter((_, i) => i !== index);\n      setItems(updated);\n      saveItems(updated);\n    },\n    [items, saveItems]\n  );\n\n  return (\n    <Stack sx={{ gap: \"10px\" }}>\n      {items.map((it, index) => (\n        <Stack key={index} direction=\"row\" alignItems=\"center\" sx={{ gap: \"10px\" }}>\n          <Checkbox\n            checked={it.checked}\n            onChange={() => toggleItem(index)}\n            size=\"small\"\n            sx={{\n              color: VW_COLORS.borderDark,\n              \"&.Mui-checked\": { color: VW_COLORS.primary },\n              padding: \"4px\",\n            }}\n          />\n          <Typography\n            sx={{\n              flex: 1,\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              fontSize: \"13px\",\n              textDecoration: it.checked ? \"line-through\" : \"none\",\n              color: it.checked ? VW_COLORS.textAccent : VW_COLORS.textSecondary,\n            }}\n          >\n            {it.label}\n          </Typography>\n          <IconButton\n            size=\"small\"\n            onClick={() => removeItem(index)}\n            aria-label=\"Remove item\"\n            sx={{ color: VW_COLORS.textAccent, \"&:hover\": { color: VW_COLORS.error } }}\n          >\n            <X size={14} />\n          </IconButton>\n        </Stack>\n      ))}\n      <Stack direction=\"row\" sx={{ gap: \"10px\" }}>\n        <TextField\n          placeholder=\"Add checklist item...\"\n          value={newItemText}\n          onChange={(e) => setNewItemText(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && addItem()}\n          size=\"small\"\n          sx={{ flex: 1, ...vwInputSx }}\n        />\n        <Button variant=\"outlined\" size=\"small\" onClick={addItem} sx={vwButtonOutlined}>\n          Add\n        </Button>\n      </Stack>\n      {saving && <CircularProgress size={14} sx={{ color: VW_COLORS.primary }} />}\n    </Stack>\n  );\n}\n\n// ============================================================================\n// Approval\n// ============================================================================\n\ninterface ApprovalValue { userId: number; userName?: string; status: \"pending\" | \"approved\" | \"rejected\"; date?: string; }\n\nfunction ApprovalFieldRenderer({\n  modelId, item, value, onValueChanged, apiServices,\n}: {\n  modelId: number; item: LifecycleItem; value: LifecycleValue | null | undefined;\n  onValueChanged?: () => void; apiServices?: ApiServices;\n}) {\n  const currentApprovals: ApprovalValue[] = Array.isArray(value?.value_json)\n    ? (value.value_json as ApprovalValue[])\n    : [];\n  const [approvals, setApprovals] = useState<ApprovalValue[]>(currentApprovals);\n  const [saving, setSaving] = useState(false);\n  const [selectedUserId, setSelectedUserId] = useState<number | \"\">(\"\");\n  const [users, setUsers] = useState<User[]>([]);\n  const [loadingUsers, setLoadingUsers] = useState(true);\n\n  // Fetch users on mount\n  React.useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const response = await apiServices?.get<{ data: User[] }>(\"/users\");\n        const usersData = (response?.data as any)?.data || response?.data || [];\n        setUsers(Array.isArray(usersData) ? usersData : []);\n      } catch { /* ignore */ } finally { setLoadingUsers(false); }\n    };\n    fetchUsers();\n  }, [apiServices]);\n\n  const getUserName = useCallback((userId: number) => {\n    const user = users.find(u => u.id === userId);\n    return user ? `${user.name} ${user.surname}` : `User #${userId}`;\n  }, [users]);\n\n  const saveApprovals = useCallback(\n    async (updated: ApprovalValue[]) => {\n      setSaving(true);\n      try {\n        await apiServices?.put(\n          `/plugins/model-lifecycle/models/${modelId}/lifecycle/items/${item.id}`,\n          { value_json: updated }\n        );\n        onValueChanged?.();\n      } catch { /* keep state */ } finally { setSaving(false); }\n    },\n    [modelId, item.id, onValueChanged, apiServices]\n  );\n\n  const handleStatusChange = useCallback(\n    (userId: number, status: \"approved\" | \"rejected\") => {\n      const updated = approvals.map((a) =>\n        a.userId === userId\n          ? { ...a, status, date: new Date().toISOString() }\n          : a\n      );\n      setApprovals(updated);\n      saveApprovals(updated);\n    },\n    [approvals, saveApprovals]\n  );\n\n  const addApprover = useCallback(() => {\n    if (!selectedUserId || approvals.find((a) => a.userId === selectedUserId)) return;\n    const userName = getUserName(selectedUserId);\n    const updated: ApprovalValue[] = [\n      ...approvals,\n      { userId: selectedUserId, userName, status: \"pending\" as const },\n    ];\n    setApprovals(updated);\n    setSelectedUserId(\"\");\n    saveApprovals(updated);\n  }, [selectedUserId, approvals, saveApprovals, getUserName]);\n\n  const removeApprover = useCallback((userId: number) => {\n    const updated = approvals.filter(a => a.userId !== userId);\n    setApprovals(updated);\n    saveApprovals(updated);\n  }, [approvals, saveApprovals]);\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"approved\": return VW_COLORS.success;\n      case \"rejected\": return VW_COLORS.error;\n      default: return VW_COLORS.textAccent;\n    }\n  };\n\n  const getStatusBgColor = (status: string) => {\n    switch (status) {\n      case \"approved\": return VW_COLORS.successBg;\n      case \"rejected\": return VW_COLORS.errorBg;\n      default: return VW_COLORS.bgAccent;\n    }\n  };\n\n  const availableUsers = users.filter(u => !approvals.find(a => a.userId === u.id));\n\n  return (\n    <Stack sx={{ gap: \"12px\" }}>\n      {approvals.map((approval) => (\n        <Stack\n          key={approval.userId}\n          direction=\"row\"\n          alignItems=\"center\"\n          sx={{\n            gap: \"10px\",\n            p: \"12px 16px\",\n            borderRadius: \"4px\",\n            border: `1px solid ${VW_COLORS.borderLight}`,\n            backgroundColor: VW_COLORS.bgMain,\n          }}\n        >\n          <Typography\n            sx={{\n              flex: 1,\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              fontSize: \"13px\",\n              color: VW_COLORS.textSecondary,\n            }}\n          >\n            {approval.userName || getUserName(approval.userId)}\n          </Typography>\n          <Chip\n            label={approval.status.charAt(0).toUpperCase() + approval.status.slice(1)}\n            size=\"small\"\n            sx={{\n              ...vwChipSx,\n              color: getStatusColor(approval.status),\n              backgroundColor: getStatusBgColor(approval.status),\n              border: \"none\",\n            }}\n          />\n          {approval.status === \"pending\" && (\n            <>\n              <IconButton\n                size=\"small\"\n                onClick={() => handleStatusChange(approval.userId, \"approved\")}\n                sx={{\n                  color: VW_COLORS.success,\n                  \"&:hover\": { backgroundColor: VW_COLORS.successBg },\n                }}\n                aria-label=\"Approve\"\n              >\n                <Check size={16} />\n              </IconButton>\n              <IconButton\n                size=\"small\"\n                onClick={() => handleStatusChange(approval.userId, \"rejected\")}\n                sx={{\n                  color: VW_COLORS.error,\n                  \"&:hover\": { backgroundColor: VW_COLORS.errorBg },\n                }}\n                aria-label=\"Reject\"\n              >\n                <X size={16} />\n              </IconButton>\n            </>\n          )}\n          <IconButton\n            size=\"small\"\n            onClick={() => removeApprover(approval.userId)}\n            sx={{ color: VW_COLORS.textAccent, \"&:hover\": { color: VW_COLORS.error } }}\n            aria-label=\"Remove approver\"\n          >\n            <Trash2 size={14} />\n          </IconButton>\n        </Stack>\n      ))}\n      <Stack direction=\"row\" sx={{ gap: \"8px\" }}>\n        <Select\n          value={selectedUserId}\n          onChange={(e) => setSelectedUserId(e.target.value as number)}\n          size=\"small\"\n          displayEmpty\n          sx={{\n            flex: 1,\n            ...vwInputSx,\n            \"& .MuiSelect-select\": {\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              fontSize: \"13px\",\n            },\n          }}\n          disabled={loadingUsers}\n        >\n          <MenuItem value=\"\" disabled sx={{ fontFamily: VW_TYPOGRAPHY.fontFamily, fontSize: \"13px\" }}>\n            {loadingUsers ? \"Loading users...\" : \"Select an approver...\"}\n          </MenuItem>\n          {availableUsers.map((user) => (\n            <MenuItem key={user.id} value={user.id} sx={{ fontFamily: VW_TYPOGRAPHY.fontFamily, fontSize: \"13px\" }}>\n              {user.name} {user.surname} ({user.email})\n            </MenuItem>\n          ))}\n        </Select>\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={addApprover}\n          disabled={saving || !selectedUserId}\n          sx={vwButtonOutlined}\n        >\n          Add Approver\n        </Button>\n      </Stack>\n      {saving && <CircularProgress size={14} sx={{ color: VW_COLORS.primary }} />}\n    </Stack>\n  );\n}\n","import React from \"react\";\nimport { Stack, Typography, Box } from \"@mui/material\";\nimport { LifecyclePhase } from \"./useModelLifecycle\";\nimport LifecycleItemField from \"./LifecycleItemField\";\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any, config?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface LifecyclePhaseContentProps {\n  phase: LifecyclePhase;\n  modelId: number;\n  onValueChanged?: () => void;\n  apiServices?: ApiServices;\n}\n\nexport default function LifecyclePhaseContent({\n  phase,\n  modelId,\n  onValueChanged,\n  apiServices,\n}: LifecyclePhaseContentProps) {\n  const items = phase.items ?? [];\n\n  return (\n    <Stack sx={{ flex: 1, overflowY: \"auto\", p: \"24px\", gap: \"16px\" }}>\n      <Stack sx={{ gap: \"4px\" }}>\n        <Typography sx={{ fontWeight: 600, fontSize: \"16px\", color: \"#344054\" }}>\n          {phase.name}\n        </Typography>\n        {phase.description && (\n          <Typography sx={{ fontSize: \"13px\", color: \"#667085\" }}>\n            {phase.description}\n          </Typography>\n        )}\n      </Stack>\n\n      <Box sx={{ borderTop: \"1px solid #E0E4E9\" }} />\n\n      {items.length > 0 ? (\n        <Stack\n          spacing={0}\n          divider={<Box sx={{ borderTop: \"1px solid #E0E4E9\" }} />}\n        >\n          {items.map((item) => (\n            <Stack key={item.id} sx={{ py: \"16px\", gap: \"10px\" }}>\n              <Stack direction=\"row\" alignItems=\"center\" sx={{ gap: \"8px\" }}>\n                <Typography sx={{ fontWeight: 500, color: \"#344054\", fontSize: \"13px\" }}>\n                  {item.name}\n                </Typography>\n                {item.is_required && (\n                  <Typography sx={{ color: \"#F04438\", fontSize: \"11px\" }}>\n                    Required\n                  </Typography>\n                )}\n              </Stack>\n              {item.description && (\n                <Typography sx={{ color: \"#667085\", display: \"block\", fontSize: \"12px\" }}>\n                  {item.description}\n                </Typography>\n              )}\n              <LifecycleItemField\n                modelId={modelId}\n                item={item}\n                onValueChanged={onValueChanged}\n                apiServices={apiServices}\n              />\n            </Stack>\n          ))}\n        </Stack>\n      ) : (\n        <Typography sx={{ textAlign: \"center\", color: \"#667085\", py: 4 }}>\n          No items configured for this phase\n        </Typography>\n      )}\n    </Stack>\n  );\n}\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport {\n  Box,\n  Stack,\n  CircularProgress,\n  Typography,\n} from \"@mui/material\";\nimport { LifecyclePhase, LifecycleProgress } from \"./useModelLifecycle\";\nimport LifecycleSidebar from \"./LifecycleSidebar\";\nimport LifecyclePhaseContent from \"./LifecyclePhaseContent\";\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any, config?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface LifecycleStepperLayoutProps {\n  phases: LifecyclePhase[];\n  progress: LifecycleProgress | null;\n  modelId: number;\n  loading: boolean;\n  onValueChanged: () => void;\n  apiServices?: ApiServices;\n}\n\nexport default function LifecycleStepperLayout({\n  phases,\n  progress,\n  modelId,\n  loading,\n  onValueChanged,\n  apiServices,\n}: LifecycleStepperLayoutProps) {\n  const [activePhaseId, setActivePhaseId] = useState<number | null>(null);\n\n  useEffect(() => {\n    if (phases.length > 0 && activePhaseId === null) {\n      setActivePhaseId(phases[0].id);\n    }\n  }, [phases, activePhaseId]);\n\n  const activePhase = useMemo(\n    () => phases.find((p) => p.id === activePhaseId) ?? null,\n    [phases, activePhaseId]\n  );\n\n  const handlePhaseSelect = useCallback((phaseId: number) => {\n    setActivePhaseId(phaseId);\n  }, []);\n\n  if (loading && phases.length === 0) {\n    return (\n      <Stack alignItems=\"center\" sx={{ py: 4 }}>\n        <CircularProgress size={24} />\n      </Stack>\n    );\n  }\n\n  if (phases.length === 0) {\n    return (\n      <Typography sx={{ textAlign: \"center\", color: \"#667085\", py: 4 }}>\n        No lifecycle phases configured. Contact an administrator to set up the model lifecycle.\n      </Typography>\n    );\n  }\n\n  return (\n    <Box\n      sx={{\n        border: \"1px solid #E0E4E9\",\n        borderRadius: \"4px\",\n        backgroundColor: \"#fff\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: { xs: \"column\", md: \"row\" },\n        minHeight: 400,\n      }}\n    >\n      <LifecycleSidebar\n        phases={phases}\n        progress={progress}\n        activePhaseId={activePhaseId}\n        onPhaseSelect={handlePhaseSelect}\n      />\n      <Box sx={{ flex: 1, display: \"flex\", minWidth: 0 }}>\n        {activePhase ? (\n          <LifecyclePhaseContent\n            phase={activePhase}\n            modelId={modelId}\n            onValueChanged={onValueChanged}\n            apiServices={apiServices}\n          />\n        ) : (\n          <Stack\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            sx={{ flex: 1, p: \"24px\" }}\n          >\n            <Typography sx={{ color: \"#667085\" }}>\n              Select a phase from the sidebar\n            </Typography>\n          </Stack>\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport {\n  Stack,\n  Typography,\n  Box,\n  Tooltip,\n} from \"@mui/material\";\nimport { LifecycleProgress } from \"./useModelLifecycle\";\n\ninterface LifecycleProgressBarProps {\n  progress: LifecycleProgress | null;\n  onPhaseClick?: (phaseId: number) => void;\n}\n\nexport default function LifecycleProgressBar({\n  progress,\n  onPhaseClick,\n}: LifecycleProgressBarProps) {\n  if (!progress || progress.phases.length === 0) {\n    return null;\n  }\n\n  const getPhaseColor = (filled: number, total: number) => {\n    if (total === 0) return \"#E0E4E9\";\n    if (filled === total) return \"#079455\";\n    if (filled > 0) return \"#2E90FA\";\n    return \"#E0E4E9\";\n  };\n\n  return (\n    <Stack sx={{ gap: \"12px\" }}>\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n        <Typography\n          sx={{ fontWeight: 600, fontSize: \"14px\", color: \"#344054\" }}\n        >\n          Lifecycle Progress\n        </Typography>\n        <Typography\n          sx={{ fontSize: \"13px\", color: \"#667085\" }}\n        >\n          {progress.completion_percentage}% complete ({progress.filled_items}/{progress.total_items} items)\n        </Typography>\n      </Stack>\n\n      <Stack direction=\"row\" sx={{ gap: \"6px\", width: \"100%\" }}>\n        {progress.phases.map((phase) => {\n          const pct = phase.total_items > 0\n            ? (phase.filled_items / phase.total_items) * 100\n            : 0;\n          const color = getPhaseColor(phase.filled_items, phase.total_items);\n\n          return (\n            <Tooltip\n              key={phase.phase_id}\n              title={`${phase.phase_name}: ${phase.filled_items}/${phase.total_items} items`}\n              arrow\n            >\n              <Box\n                onClick={() => onPhaseClick?.(phase.phase_id)}\n                sx={{\n                  flex: 1,\n                  height: 8,\n                  borderRadius: 3,\n                  overflow: \"hidden\",\n                  backgroundColor: \"#E0E4E9\",\n                  cursor: onPhaseClick ? \"pointer\" : \"default\",\n                  \"&:hover\": onPhaseClick ? { opacity: 0.8 } : {},\n                  position: \"relative\",\n                }}\n              >\n                <Box\n                  sx={{\n                    width: `${pct}%`,\n                    height: \"100%\",\n                    backgroundColor: color,\n                    borderRadius: 3,\n                    transition: \"width 0.3s ease\",\n                  }}\n                />\n              </Box>\n            </Tooltip>\n          );\n        })}\n      </Stack>\n\n      <Stack direction=\"row\" sx={{ gap: \"6px\", width: \"100%\" }}>\n        {progress.phases.map((phase) => (\n          <Typography\n            key={phase.phase_id}\n            sx={{\n              flex: 1,\n              textAlign: \"center\",\n              fontSize: \"11px\",\n              color: \"#667085\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\",\n              cursor: onPhaseClick ? \"pointer\" : \"default\",\n            }}\n            onClick={() => onPhaseClick?.(phase.phase_id)}\n          >\n            {phase.phase_name}\n          </Typography>\n        ))}\n      </Stack>\n    </Stack>\n  );\n}\n","import React from \"react\";\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Stack,\n  Typography,\n  Box,\n  Chip,\n} from \"@mui/material\";\nimport { ChevronRight } from \"lucide-react\";\nimport { LifecyclePhase } from \"./useModelLifecycle\";\nimport LifecycleItemField from \"./LifecycleItemField\";\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any, config?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface LifecyclePhasePanelProps {\n  phase: LifecyclePhase;\n  modelId: number;\n  expanded: boolean;\n  onToggle: () => void;\n  onValueChanged?: () => void;\n  apiServices?: ApiServices;\n}\n\nexport default function LifecyclePhasePanel({\n  phase,\n  modelId,\n  expanded,\n  onToggle,\n  onValueChanged,\n  apiServices,\n}: LifecyclePhasePanelProps) {\n  const items = phase.items ?? [];\n  const totalItems = items.length;\n  const filledItems = items.filter((item) => {\n    const val = item.value;\n    if (!val) return false;\n    if (val.value_text) return true;\n    if (val.value_json) return true;\n    if (val.files && val.files.length > 0) return true;\n    return false;\n  }).length;\n\n  const isComplete = totalItems > 0 && filledItems === totalItems;\n  const chipColor = isComplete ? \"#079455\" : filledItems > 0 ? \"#2E90FA\" : \"#667085\";\n\n  return (\n    <Accordion\n      expanded={expanded}\n      onChange={onToggle}\n      disableGutters\n      sx={{\n        border: \"1px solid #E0E4E9\",\n        borderRadius: \"4px !important\",\n        \"&:before\": { display: \"none\" },\n        boxShadow: \"none\",\n        mb: \"12px\",\n        overflow: \"hidden\",\n      }}\n    >\n      <AccordionSummary\n        expandIcon={\n          <ChevronRight\n            size={16}\n            style={{\n              transform: expanded ? \"rotate(90deg)\" : \"rotate(0deg)\",\n              transition: \"transform 0.2s ease\",\n              color: \"#667085\",\n            }}\n          />\n        }\n        sx={{\n          backgroundColor: expanded ? \"#F9FAFB\" : \"#fff\",\n          \"&:hover\": { backgroundColor: \"#F9FAFB\" },\n          px: \"16px\",\n          py: \"12px\",\n          \"& .MuiAccordionSummary-expandIconWrapper\": {\n            transform: \"none !important\",\n          },\n        }}\n      >\n        <Stack\n          direction=\"row\"\n          alignItems=\"center\"\n          sx={{ width: \"100%\", gap: \"12px\" }}\n        >\n          <Stack sx={{ flex: 1 }}>\n            <Typography sx={{ fontWeight: 600, color: \"#344054\", fontSize: \"14px\" }}>\n              {phase.name}\n            </Typography>\n            {phase.description && (\n              <Typography sx={{ color: \"#667085\", fontSize: \"12px\", mt: \"4px\" }}>\n                {phase.description}\n              </Typography>\n            )}\n          </Stack>\n          <Chip\n            label={`${filledItems} / ${totalItems}`}\n            size=\"small\"\n            variant=\"outlined\"\n            sx={{ color: chipColor, borderColor: chipColor }}\n          />\n        </Stack>\n      </AccordionSummary>\n\n      <AccordionDetails sx={{ p: 0 }}>\n        <Stack spacing={0} divider={<Box sx={{ borderTop: \"1px solid #E0E4E9\" }} />}>\n          {items.map((item) => (\n            <Stack key={item.id} sx={{ px: \"16px\", py: \"16px\", gap: \"10px\" }}>\n              <Stack direction=\"row\" alignItems=\"center\" sx={{ gap: \"8px\" }}>\n                <Typography sx={{ fontWeight: 500, color: \"#344054\", fontSize: \"13px\" }}>\n                  {item.name}\n                </Typography>\n                {item.is_required && (\n                  <Typography sx={{ color: \"#F04438\", fontSize: \"11px\" }}>\n                    Required\n                  </Typography>\n                )}\n              </Stack>\n              {item.description && (\n                <Typography sx={{ color: \"#667085\", display: \"block\", fontSize: \"12px\" }}>\n                  {item.description}\n                </Typography>\n              )}\n              <LifecycleItemField\n                modelId={modelId}\n                item={item}\n                onValueChanged={onValueChanged}\n                apiServices={apiServices}\n              />\n            </Stack>\n          ))}\n          {items.length === 0 && (\n            <Typography sx={{ textAlign: \"center\", color: \"#667085\", py: 4 }}>\n              No items configured for this phase\n            </Typography>\n          )}\n        </Stack>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n","/**\n * ModelLifecycleTab - Standalone plugin component for the lifecycle tab slot.\n *\n * Receives modelId via slot props and internally wires up all lifecycle hooks.\n * Provides a toggle to switch between Accordion and Stepper views.\n */\n\nimport React, { useState, useCallback, useRef } from \"react\";\nimport {\n  Stack,\n  ToggleButtonGroup,\n  ToggleButton,\n} from \"@mui/material\";\nimport { List, GitCommitVertical } from \"lucide-react\";\nimport { useModelLifecycle, useLifecycleProgress } from \"./useModelLifecycle\";\nimport LifecycleStepperLayout from \"./LifecycleStepperLayout\";\nimport LifecycleProgressBar from \"./LifecycleProgressBar\";\nimport LifecyclePhasePanel from \"./LifecyclePhasePanel\";\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any, config?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface ModelLifecycleTabProps {\n  modelId: number;\n  apiServices?: ApiServices;\n}\n\ntype ViewMode = \"accordion\" | \"stepper\";\n\nexport default function ModelLifecycleTab({ modelId, apiServices }: ModelLifecycleTabProps) {\n  const { phases, loading, refresh } = useModelLifecycle(modelId, apiServices);\n  const { progress, refresh: refreshProgress } = useLifecycleProgress(modelId, apiServices);\n\n  const [viewMode, setViewMode] = useState<ViewMode>(\"stepper\");\n  const [expandedPhases, setExpandedPhases] = useState<Set<number>>(() => new Set());\n\n  const phaseRefs = useRef<Map<number, HTMLDivElement>>(new Map());\n\n  const handleValueChanged = useCallback(() => {\n    refresh();\n    refreshProgress();\n  }, [refresh, refreshProgress]);\n\n  const handleViewModeChange = useCallback(\n    (_: React.MouseEvent<HTMLElement>, newMode: ViewMode | null) => {\n      if (newMode) setViewMode(newMode);\n    },\n    []\n  );\n\n  const togglePhase = useCallback((phaseId: number) => {\n    setExpandedPhases((prev) => {\n      const next = new Set(prev);\n      if (next.has(phaseId)) next.delete(phaseId);\n      else next.add(phaseId);\n      return next;\n    });\n  }, []);\n\n  const handlePhaseClick = useCallback((phaseId: number) => {\n    setExpandedPhases((prev) => {\n      const next = new Set(prev);\n      next.add(phaseId);\n      return next;\n    });\n    const el = phaseRefs.current.get(phaseId);\n    if (el) {\n      el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    }\n  }, []);\n\n  // Auto-expand first phase on initial load\n  const firstPhaseId = phases[0]?.id;\n  if (firstPhaseId !== undefined && expandedPhases.size === 0 && phases.length > 0) {\n    setExpandedPhases(new Set([firstPhaseId]));\n  }\n\n  return (\n    <Stack sx={{ gap: \"16px\" }}>\n      {/* View toggle */}\n      <Stack direction=\"row\" justifyContent=\"flex-end\">\n        <ToggleButtonGroup\n          value={viewMode}\n          exclusive\n          onChange={handleViewModeChange}\n          size=\"small\"\n          sx={{\n            \"& .MuiToggleButton-root\": {\n              px: \"12px\",\n              py: \"4px\",\n              fontSize: \"13px\",\n              textTransform: \"none\",\n              gap: \"6px\",\n              color: \"#667085\",\n              borderColor: \"#E0E4E9\",\n              \"&.Mui-selected\": {\n                backgroundColor: \"#F9FAFB\",\n                color: \"#344054\",\n              },\n            },\n          }}\n        >\n          <ToggleButton value=\"accordion\" aria-label=\"Accordion view\">\n            <List size={16} />\n            Accordion\n          </ToggleButton>\n          <ToggleButton value=\"stepper\" aria-label=\"Stepper view\">\n            <GitCommitVertical size={16} />\n            Stepper\n          </ToggleButton>\n        </ToggleButtonGroup>\n      </Stack>\n\n      {viewMode === \"accordion\" ? (\n        <Stack sx={{ gap: \"16px\" }}>\n          <LifecycleProgressBar\n            progress={progress}\n            onPhaseClick={handlePhaseClick}\n          />\n          {phases.map((phase) => (\n            <div\n              key={phase.id}\n              ref={(el) => {\n                if (el) phaseRefs.current.set(phase.id, el);\n                else phaseRefs.current.delete(phase.id);\n              }}\n            >\n              <LifecyclePhasePanel\n                phase={phase}\n                modelId={modelId}\n                expanded={expandedPhases.has(phase.id)}\n                onToggle={() => togglePhase(phase.id)}\n                onValueChanged={handleValueChanged}\n                apiServices={apiServices}\n              />\n            </div>\n          ))}\n        </Stack>\n      ) : (\n        <LifecycleStepperLayout\n          phases={phases}\n          progress={progress}\n          modelId={modelId}\n          loading={loading}\n          onValueChanged={handleValueChanged}\n          apiServices={apiServices}\n        />\n      )}\n    </Stack>\n  );\n}\n","/**\n * ModelLifecycleConfig - Admin UI for managing lifecycle phases and items.\n * Uses VerifyWise styling patterns.\n */\n\nimport React, { useState, useCallback } from \"react\";\nimport {\n  Stack,\n  Typography,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  FormControlLabel,\n  Box,\n  CircularProgress,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Button,\n  TextField,\n  Select,\n  MenuItem,\n  Switch,\n  Chip,\n} from \"@mui/material\";\nimport {\n  Plus,\n  Trash2,\n  ArrowUp,\n  ArrowDown,\n  ChevronRight,\n  X,\n  Pencil,\n  Check,\n  Settings,\n} from \"lucide-react\";\nimport { LifecycleItem, useLifecycleConfig } from \"./useModelLifecycle\";\n\n// ============================================================================\n// VerifyWise Theme Constants\n// ============================================================================\n\nconst VW_COLORS = {\n  primary: \"#13715B\",\n  primaryDark: \"#10614d\",\n  textPrimary: \"#1c2130\",\n  textSecondary: \"#344054\",\n  textTertiary: \"#475467\",\n  textAccent: \"#838c99\",\n  bgMain: \"#FFFFFF\",\n  bgAlt: \"#FCFCFD\",\n  bgFill: \"#F4F4F4\",\n  bgAccent: \"#f9fafb\",\n  borderLight: \"#eaecf0\",\n  borderDark: \"#d0d5dd\",\n  error: \"#f04438\",\n  errorBg: \"#FEE2E2\",\n  success: \"#17b26a\",\n  successBg: \"#ecfdf3\",\n};\n\nconst VW_TYPOGRAPHY = {\n  fontFamily: \"'Inter', system-ui, -apple-system, sans-serif\",\n  fontSize: 13,\n};\n\n// ============================================================================\n// Styled Components\n// ============================================================================\n\nconst vwButtonPrimary = {\n  textTransform: \"none\",\n  fontWeight: 500,\n  fontSize: \"13px\",\n  fontFamily: VW_TYPOGRAPHY.fontFamily,\n  borderRadius: \"4px\",\n  backgroundColor: VW_COLORS.primary,\n  color: \"#fff\",\n  \"&:hover\": {\n    backgroundColor: VW_COLORS.primaryDark,\n  },\n};\n\nconst vwButtonSecondary = {\n  textTransform: \"none\",\n  fontWeight: 400,\n  fontSize: \"13px\",\n  fontFamily: VW_TYPOGRAPHY.fontFamily,\n  borderRadius: \"4px\",\n  borderColor: VW_COLORS.borderDark,\n  color: VW_COLORS.textSecondary,\n  \"&:hover\": {\n    borderColor: VW_COLORS.borderDark,\n    backgroundColor: VW_COLORS.bgFill,\n  },\n};\n\nconst vwTextField = {\n  \"& .MuiOutlinedInput-root\": {\n    backgroundColor: VW_COLORS.bgMain,\n    borderRadius: \"4px\",\n    fontSize: \"13px\",\n    fontFamily: VW_TYPOGRAPHY.fontFamily,\n    \"& .MuiOutlinedInput-notchedOutline\": {\n      borderColor: VW_COLORS.borderDark,\n      borderWidth: \"1px\",\n    },\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\n      borderColor: VW_COLORS.borderDark,\n    },\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n      borderColor: VW_COLORS.primary,\n      borderWidth: \"1px\",\n    },\n  },\n};\n\nconst vwSelect = {\n  backgroundColor: VW_COLORS.bgMain,\n  borderRadius: \"4px\",\n  fontSize: \"13px\",\n  fontFamily: VW_TYPOGRAPHY.fontFamily,\n  \"& .MuiOutlinedInput-notchedOutline\": {\n    borderColor: VW_COLORS.borderDark,\n  },\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\n    borderColor: VW_COLORS.borderDark,\n  },\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n    borderColor: VW_COLORS.primary,\n  },\n};\n\nconst vwAccordion = {\n  border: `1px solid ${VW_COLORS.borderLight}`,\n  borderRadius: \"4px !important\",\n  \"&:before\": { display: \"none\" },\n  boxShadow: \"none\",\n  overflow: \"hidden\",\n};\n\nconst vwAccordionSummary = {\n  backgroundColor: VW_COLORS.bgAccent,\n  px: \"16px\",\n  py: \"10px\",\n  minHeight: \"44px\",\n  \"& .MuiAccordionSummary-expandIconWrapper\": {\n    transform: \"none !important\",\n    order: -1,\n    mr: \"10px\",\n  },\n  \"& .MuiAccordionSummary-content\": {\n    margin: 0,\n    alignItems: \"center\",\n    gap: \"10px\",\n  },\n};\n\nconst vwDialog = {\n  \"& .MuiDialog-paper\": {\n    borderRadius: \"8px\",\n    backgroundColor: VW_COLORS.bgAlt,\n  },\n};\n\n// ============================================================================\n// Component\n// ============================================================================\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface ModelLifecycleConfigProps {\n  apiServices?: ApiServices;\n}\n\nconst ITEM_TYPES = [\n  { value: \"text\", label: \"Text\" },\n  { value: \"textarea\", label: \"Text Area\" },\n  { value: \"documents\", label: \"Documents\" },\n  { value: \"people\", label: \"People\" },\n  { value: \"classification\", label: \"Classification\" },\n  { value: \"checklist\", label: \"Checklist\" },\n  { value: \"approval\", label: \"Approval\" },\n];\n\nexport default function ModelLifecycleConfig({ apiServices }: ModelLifecycleConfigProps) {\n  const { phases, loading, refresh, setPhases } = useLifecycleConfig(apiServices, true);\n  const [saving, setSaving] = useState(false);\n  const [configOpen, setConfigOpen] = useState(false);\n\n  // New phase form\n  const [newPhaseName, setNewPhaseName] = useState(\"\");\n  const [newPhaseDesc, setNewPhaseDesc] = useState(\"\");\n\n  // New item form\n  const [addingItemForPhase, setAddingItemForPhase] = useState<number | null>(null);\n  const [newItemName, setNewItemName] = useState(\"\");\n  const [newItemType, setNewItemType] = useState(\"text\");\n  const [newItemRequired, setNewItemRequired] = useState(false);\n\n  // Delete confirmation\n  const [deletePhaseId, setDeletePhaseId] = useState<number | null>(null);\n  const [deleteItemId, setDeleteItemId] = useState<number | null>(null);\n\n  // Inline editing\n  const [editingPhaseId, setEditingPhaseId] = useState<number | null>(null);\n  const [editingPhaseName, setEditingPhaseName] = useState(\"\");\n\n  // Expanded phases\n  const [expandedPhases, setExpandedPhases] = useState<Set<number>>(new Set());\n\n  const toggleExpanded = useCallback((phaseId: number) => {\n    setExpandedPhases((prev) => {\n      const next = new Set(prev);\n      if (next.has(phaseId)) next.delete(phaseId);\n      else next.add(phaseId);\n      return next;\n    });\n  }, []);\n\n  // Phase operations\n  const handleCreatePhase = useCallback(async () => {\n    if (!newPhaseName.trim() || !apiServices) return;\n    setSaving(true);\n    try {\n      await apiServices.post(\"/plugins/model-lifecycle/phases\", {\n        name: newPhaseName.trim(),\n        description: newPhaseDesc.trim() || undefined,\n      });\n      setNewPhaseName(\"\");\n      setNewPhaseDesc(\"\");\n      refresh();\n    } catch { /* error */ } finally { setSaving(false); }\n  }, [newPhaseName, newPhaseDesc, refresh, apiServices]);\n\n  const confirmDeletePhase = useCallback(async () => {\n    if (deletePhaseId === null || !apiServices) return;\n    setSaving(true);\n    try {\n      await apiServices.delete(`/plugins/model-lifecycle/phases/${deletePhaseId}`);\n      refresh();\n    } catch { /* error */ } finally { setSaving(false); setDeletePhaseId(null); }\n  }, [deletePhaseId, refresh, apiServices]);\n\n  const handleMovePhase = useCallback(\n    async (phaseId: number, direction: \"up\" | \"down\") => {\n      const idx = phases.findIndex((p) => p.id === phaseId);\n      if (idx < 0 || !apiServices) return;\n      const newIdx = direction === \"up\" ? idx - 1 : idx + 1;\n      if (newIdx < 0 || newIdx >= phases.length) return;\n\n      // Optimistic update\n      const oldPhases = [...phases];\n      const newPhases = [...phases];\n      [newPhases[idx], newPhases[newIdx]] = [newPhases[newIdx], newPhases[idx]];\n      setPhases(newPhases);\n\n      const orderedIds = newPhases.map((p) => p.id);\n      try {\n        await apiServices.put(\"/plugins/model-lifecycle/phases/reorder\", { orderedIds });\n      } catch {\n        // Revert on error\n        setPhases(oldPhases);\n      }\n    },\n    [phases, setPhases, apiServices]\n  );\n\n  const handleRenamePhaseSave = useCallback(\n    async (phaseId: number, newName: string) => {\n      const trimmed = newName.trim();\n      if (!trimmed || !apiServices) { setEditingPhaseId(null); return; }\n      const oldName = phases.find((p) => p.id === phaseId)?.name ?? \"\";\n      if (trimmed === oldName) { setEditingPhaseId(null); return; }\n\n      setPhases((prev) =>\n        prev.map((p) => (p.id === phaseId ? { ...p, name: trimmed } : p))\n      );\n      setEditingPhaseId(null);\n      try {\n        await apiServices.put(`/plugins/model-lifecycle/phases/${phaseId}`, { name: trimmed });\n      } catch {\n        setPhases((prev) =>\n          prev.map((p) => (p.id === phaseId ? { ...p, name: oldName } : p))\n        );\n      }\n    },\n    [phases, setPhases, apiServices]\n  );\n\n  const handleTogglePhaseActive = useCallback(\n    async (phaseId: number, isActive: boolean) => {\n      if (!apiServices) return;\n      setPhases((prev) =>\n        prev.map((p) => (p.id === phaseId ? { ...p, is_active: isActive } : p))\n      );\n      try {\n        await apiServices.put(`/plugins/model-lifecycle/phases/${phaseId}`, { is_active: isActive });\n      } catch {\n        setPhases((prev) =>\n          prev.map((p) => (p.id === phaseId ? { ...p, is_active: !isActive } : p))\n        );\n      }\n    },\n    [setPhases, apiServices]\n  );\n\n  // Item operations\n  const handleCreateItem = useCallback(\n    async (phaseId: number) => {\n      if (!newItemName.trim() || !apiServices) return;\n      setSaving(true);\n      try {\n        await apiServices.post(`/plugins/model-lifecycle/phases/${phaseId}/items`, {\n          name: newItemName.trim(),\n          item_type: newItemType,\n          is_required: newItemRequired,\n        });\n        setNewItemName(\"\");\n        setNewItemType(\"text\");\n        setNewItemRequired(false);\n        setAddingItemForPhase(null);\n        refresh();\n      } catch { /* error */ } finally { setSaving(false); }\n    },\n    [newItemName, newItemType, newItemRequired, refresh, apiServices]\n  );\n\n  const confirmDeleteItem = useCallback(async () => {\n    if (deleteItemId === null || !apiServices) return;\n    setSaving(true);\n    try {\n      await apiServices.delete(`/plugins/model-lifecycle/items/${deleteItemId}`);\n      refresh();\n    } catch { /* error */ } finally { setSaving(false); setDeleteItemId(null); }\n  }, [deleteItemId, refresh, apiServices]);\n\n  const handleToggleItemRequired = useCallback(\n    async (itemId: number, isRequired: boolean) => {\n      if (!apiServices) return;\n      setPhases((prev) =>\n        prev.map((p) => ({\n          ...p,\n          items: p.items?.map((i) =>\n            i.id === itemId ? { ...i, is_required: isRequired } : i\n          ),\n        }))\n      );\n      try {\n        await apiServices.put(`/plugins/model-lifecycle/items/${itemId}`, { is_required: isRequired });\n      } catch {\n        setPhases((prev) =>\n          prev.map((p) => ({\n            ...p,\n            items: p.items?.map((i) =>\n              i.id === itemId ? { ...i, is_required: !isRequired } : i\n            ),\n          }))\n        );\n      }\n    },\n    [setPhases, apiServices]\n  );\n\n  const handleMoveItem = useCallback(\n    async (phaseId: number, items: LifecycleItem[], itemId: number, direction: \"up\" | \"down\") => {\n      const idx = items.findIndex((i) => i.id === itemId);\n      if (idx < 0 || !apiServices) return;\n      const newIdx = direction === \"up\" ? idx - 1 : idx + 1;\n      if (newIdx < 0 || newIdx >= items.length) return;\n\n      // Optimistic update\n      const newItems = [...items];\n      [newItems[idx], newItems[newIdx]] = [newItems[newIdx], newItems[idx]];\n\n      setPhases((prev) =>\n        prev.map((p) => (p.id === phaseId ? { ...p, items: newItems } : p))\n      );\n\n      const orderedIds = newItems.map((i) => i.id);\n      try {\n        await apiServices.put(`/plugins/model-lifecycle/phases/${phaseId}/items/reorder`, { orderedIds });\n      } catch {\n        // Revert on error\n        setPhases((prev) =>\n          prev.map((p) => (p.id === phaseId ? { ...p, items } : p))\n        );\n      }\n    },\n    [setPhases, apiServices]\n  );\n\n  return (\n    <>\n      <Stack sx={{ gap: \"16px\" }}>\n        {/* Phases Summary */}\n        {loading ? (\n          <Stack alignItems=\"center\" sx={{ py: 2 }}>\n            <CircularProgress size={24} sx={{ color: VW_COLORS.primary }} />\n          </Stack>\n        ) : phases.length === 0 ? (\n          <Typography\n            sx={{\n              fontSize: \"13px\",\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              color: VW_COLORS.textTertiary,\n            }}\n          >\n            No lifecycle phases configured yet. Click the button below to add phases.\n          </Typography>\n        ) : (\n          <Stack sx={{ gap: \"8px\" }}>\n            <Typography\n              sx={{\n                fontWeight: 600,\n                fontSize: \"13px\",\n                fontFamily: VW_TYPOGRAPHY.fontFamily,\n                color: VW_COLORS.textSecondary,\n              }}\n            >\n              Configured Phases ({phases.filter(p => p.is_active).length} active)\n            </Typography>\n            {phases.map((phase, idx) => (\n              <Box\n                key={phase.id}\n                sx={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"12px\",\n                  py: \"8px\",\n                  px: \"12px\",\n                  backgroundColor: phase.is_active ? VW_COLORS.bgAccent : VW_COLORS.bgFill,\n                  borderRadius: \"4px\",\n                  border: `1px solid ${VW_COLORS.borderLight}`,\n                  opacity: phase.is_active ? 1 : 0.6,\n                }}\n              >\n                <Typography\n                  sx={{\n                    fontSize: \"12px\",\n                    fontWeight: 600,\n                    fontFamily: VW_TYPOGRAPHY.fontFamily,\n                    color: VW_COLORS.textAccent,\n                    minWidth: \"20px\",\n                  }}\n                >\n                  {idx + 1}.\n                </Typography>\n                <Typography\n                  sx={{\n                    flex: 1,\n                    fontSize: \"13px\",\n                    fontWeight: 500,\n                    fontFamily: VW_TYPOGRAPHY.fontFamily,\n                    color: VW_COLORS.textPrimary,\n                  }}\n                >\n                  {phase.name}\n                </Typography>\n                <Chip\n                  label={`${phase.items?.length || 0} items`}\n                  size=\"small\"\n                  sx={{\n                    fontSize: \"11px\",\n                    fontFamily: VW_TYPOGRAPHY.fontFamily,\n                    height: \"20px\",\n                    backgroundColor: VW_COLORS.bgFill,\n                    color: VW_COLORS.textTertiary,\n                    borderRadius: \"4px\",\n                  }}\n                />\n                {!phase.is_active && (\n                  <Chip\n                    label=\"Inactive\"\n                    size=\"small\"\n                    sx={{\n                      fontSize: \"11px\",\n                      fontFamily: VW_TYPOGRAPHY.fontFamily,\n                      height: \"20px\",\n                      backgroundColor: VW_COLORS.errorBg,\n                      color: VW_COLORS.error,\n                      borderRadius: \"4px\",\n                    }}\n                  />\n                )}\n              </Box>\n            ))}\n          </Stack>\n        )}\n\n        {/* Configure Button */}\n        <Button\n          variant=\"outlined\"\n          startIcon={<Settings size={16} />}\n          onClick={() => setConfigOpen(true)}\n          sx={{ ...vwButtonSecondary, alignSelf: \"flex-start\" }}\n        >\n          Configure Phases\n        </Button>\n      </Stack>\n\n      {/* Configuration Dialog */}\n      <Dialog\n        open={configOpen}\n        onClose={() => setConfigOpen(false)}\n        maxWidth=\"md\"\n        fullWidth\n        sx={vwDialog}\n        PaperProps={{ sx: { maxHeight: \"85vh\" } }}\n      >\n        <DialogTitle\n          sx={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            borderBottom: `1px solid ${VW_COLORS.borderLight}`,\n            py: \"12px\",\n            px: \"20px\",\n          }}\n        >\n          <Typography\n            sx={{\n              fontWeight: 600,\n              fontSize: \"16px\",\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              color: VW_COLORS.textPrimary,\n            }}\n          >\n            Configure Model Lifecycle\n          </Typography>\n          <IconButton\n            onClick={() => setConfigOpen(false)}\n            size=\"small\"\n            aria-label=\"Close\"\n            sx={{ color: VW_COLORS.textTertiary }}\n          >\n            <X size={18} />\n          </IconButton>\n        </DialogTitle>\n\n        <DialogContent sx={{ p: \"20px\" }}>\n          {loading && phases.length === 0 ? (\n            <Stack alignItems=\"center\" sx={{ py: 4 }}>\n              <CircularProgress sx={{ color: VW_COLORS.primary }} />\n            </Stack>\n          ) : (\n            <Stack sx={{ gap: \"12px\" }}>\n              {phases.map((phase, phaseIdx) => (\n                <Accordion\n                  key={phase.id}\n                  expanded={expandedPhases.has(phase.id)}\n                  onChange={() => toggleExpanded(phase.id)}\n                  disableGutters\n                  sx={{\n                    ...vwAccordion,\n                    opacity: phase.is_active ? 1 : 0.6,\n                  }}\n                >\n                  <AccordionSummary sx={vwAccordionSummary}>\n                    <ChevronRight\n                      size={16}\n                      color={VW_COLORS.textTertiary}\n                      style={{\n                        transform: expandedPhases.has(phase.id) ? \"rotate(90deg)\" : \"rotate(0deg)\",\n                        transition: \"transform 0.2s ease\",\n                      }}\n                    />\n                    {editingPhaseId === phase.id ? (\n                      <Stack\n                        direction=\"row\"\n                        alignItems=\"center\"\n                        sx={{ flex: 1, gap: \"6px\", mr: \"8px\" }}\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <TextField\n                          value={editingPhaseName}\n                          onChange={(e) => setEditingPhaseName(e.target.value)}\n                          onBlur={() => handleRenamePhaseSave(phase.id, editingPhaseName)}\n                          onKeyDown={(e) => {\n                            if (e.key === \"Enter\") handleRenamePhaseSave(phase.id, editingPhaseName);\n                            else if (e.key === \"Escape\") setEditingPhaseId(null);\n                          }}\n                          autoFocus\n                          size=\"small\"\n                          sx={{ ...vwTextField, flex: 1 }}\n                        />\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleRenamePhaseSave(phase.id, editingPhaseName)}\n                          aria-label=\"Save phase name\"\n                          sx={{ color: VW_COLORS.primary }}\n                        >\n                          <Check size={16} />\n                        </IconButton>\n                      </Stack>\n                    ) : (\n                      <Stack\n                        direction=\"row\"\n                        alignItems=\"center\"\n                        sx={{ flex: 1, gap: \"6px\", \"&:hover .phase-edit-icon\": { opacity: 1 } }}\n                      >\n                        <Typography\n                          sx={{\n                            fontWeight: 600,\n                            fontSize: \"13px\",\n                            fontFamily: VW_TYPOGRAPHY.fontFamily,\n                            color: VW_COLORS.textPrimary,\n                            cursor: \"text\",\n                          }}\n                          onDoubleClick={(e) => {\n                            e.stopPropagation();\n                            setEditingPhaseId(phase.id);\n                            setEditingPhaseName(phase.name);\n                          }}\n                        >\n                          {phase.name}\n                        </Typography>\n                        <IconButton\n                          className=\"phase-edit-icon\"\n                          size=\"small\"\n                          sx={{ opacity: 0, transition: \"opacity 0.2s\", p: \"2px\", color: VW_COLORS.textTertiary }}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            setEditingPhaseId(phase.id);\n                            setEditingPhaseName(phase.name);\n                          }}\n                          aria-label=\"Edit phase name\"\n                        >\n                          <Pencil size={14} />\n                        </IconButton>\n                      </Stack>\n                    )}\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          size=\"small\"\n                          checked={phase.is_active}\n                          onChange={(e) => {\n                            e.stopPropagation();\n                            handleTogglePhaseActive(phase.id, e.target.checked);\n                          }}\n                          sx={{\n                            \"& .MuiSwitch-switchBase.Mui-checked\": {\n                              color: VW_COLORS.primary,\n                            },\n                            \"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track\": {\n                              backgroundColor: VW_COLORS.primary,\n                            },\n                          }}\n                        />\n                      }\n                      label={\n                        <Typography\n                          sx={{\n                            fontSize: \"12px\",\n                            fontFamily: VW_TYPOGRAPHY.fontFamily,\n                            color: VW_COLORS.textTertiary,\n                          }}\n                        >\n                          Active\n                        </Typography>\n                      }\n                      onClick={(e) => e.stopPropagation()}\n                      sx={{ mr: 0 }}\n                    />\n                    <IconButton\n                      size=\"small\"\n                      disabled={phaseIdx === 0}\n                      onClick={(e) => { e.stopPropagation(); handleMovePhase(phase.id, \"up\"); }}\n                      aria-label=\"Move phase up\"\n                      sx={{ opacity: phaseIdx === 0 ? 0.4 : 1, color: VW_COLORS.textTertiary }}\n                    >\n                      <ArrowUp size={16} />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      disabled={phaseIdx === phases.length - 1}\n                      onClick={(e) => { e.stopPropagation(); handleMovePhase(phase.id, \"down\"); }}\n                      aria-label=\"Move phase down\"\n                      sx={{ opacity: phaseIdx === phases.length - 1 ? 0.4 : 1, color: VW_COLORS.textTertiary }}\n                    >\n                      <ArrowDown size={16} />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => { e.stopPropagation(); setDeletePhaseId(phase.id); }}\n                      sx={{ color: VW_COLORS.error }}\n                      aria-label=\"Delete phase\"\n                    >\n                      <Trash2 size={16} />\n                    </IconButton>\n                  </AccordionSummary>\n\n                  <AccordionDetails sx={{ px: \"16px\", py: \"12px\", backgroundColor: VW_COLORS.bgMain }}>\n                    <Stack spacing={0}>\n                      {(phase.items ?? []).map((item, itemIdx) => (\n                        <Stack\n                          key={item.id}\n                          direction=\"row\"\n                          alignItems=\"center\"\n                          sx={{\n                            gap: \"12px\",\n                            py: \"10px\",\n                            borderBottom: `1px solid ${VW_COLORS.borderLight}`,\n                          }}\n                        >\n                          <Typography\n                            sx={{\n                              flex: 1,\n                              fontSize: \"13px\",\n                              fontFamily: VW_TYPOGRAPHY.fontFamily,\n                              color: VW_COLORS.textSecondary,\n                            }}\n                          >\n                            {item.name}\n                          </Typography>\n                          <Chip\n                            label={item.item_type}\n                            size=\"small\"\n                            variant=\"outlined\"\n                            sx={{\n                              fontSize: \"11px\",\n                              fontFamily: VW_TYPOGRAPHY.fontFamily,\n                              borderColor: VW_COLORS.borderDark,\n                              color: VW_COLORS.textTertiary,\n                              borderRadius: \"4px\",\n                            }}\n                          />\n                          <FormControlLabel\n                            control={\n                              <Switch\n                                size=\"small\"\n                                checked={item.is_required}\n                                onChange={(e) => handleToggleItemRequired(item.id, e.target.checked)}\n                                sx={{\n                                  \"& .MuiSwitch-switchBase.Mui-checked\": {\n                                    color: VW_COLORS.primary,\n                                  },\n                                  \"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track\": {\n                                    backgroundColor: VW_COLORS.primary,\n                                  },\n                                }}\n                              />\n                            }\n                            label={\n                              <Typography\n                                sx={{\n                                  fontSize: \"11px\",\n                                  fontFamily: VW_TYPOGRAPHY.fontFamily,\n                                  color: VW_COLORS.textTertiary,\n                                }}\n                              >\n                                Required\n                              </Typography>\n                            }\n                            sx={{ mr: 0 }}\n                          />\n                          <Stack\n                            direction=\"row\"\n                            alignItems=\"center\"\n                            sx={{ gap: \"4px\", pl: \"12px\", borderLeft: `1px solid ${VW_COLORS.borderLight}` }}\n                          >\n                            <IconButton\n                              size=\"small\"\n                              disabled={itemIdx === 0}\n                              onClick={() => handleMoveItem(phase.id, phase.items ?? [], item.id, \"up\")}\n                              aria-label=\"Move item up\"\n                              sx={{ opacity: itemIdx === 0 ? 0.4 : 1, color: VW_COLORS.textTertiary }}\n                            >\n                              <ArrowUp size={14} />\n                            </IconButton>\n                            <IconButton\n                              size=\"small\"\n                              disabled={itemIdx === (phase.items?.length ?? 0) - 1}\n                              onClick={() => handleMoveItem(phase.id, phase.items ?? [], item.id, \"down\")}\n                              aria-label=\"Move item down\"\n                              sx={{ opacity: itemIdx === (phase.items?.length ?? 0) - 1 ? 0.4 : 1, color: VW_COLORS.textTertiary }}\n                            >\n                              <ArrowDown size={14} />\n                            </IconButton>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => setDeleteItemId(item.id)}\n                              sx={{ color: VW_COLORS.error }}\n                              aria-label=\"Delete item\"\n                            >\n                              <Trash2 size={14} />\n                            </IconButton>\n                          </Stack>\n                        </Stack>\n                      ))}\n\n                      {addingItemForPhase === phase.id ? (\n                        <Stack direction=\"row\" sx={{ gap: \"8px\", pt: \"12px\" }} alignItems=\"center\">\n                          <TextField\n                            placeholder=\"Item name\"\n                            value={newItemName}\n                            onChange={(e) => setNewItemName(e.target.value)}\n                            size=\"small\"\n                            sx={{ ...vwTextField, flex: 1 }}\n                          />\n                          <Select\n                            value={newItemType}\n                            onChange={(e) => setNewItemType(e.target.value)}\n                            size=\"small\"\n                            sx={{ ...vwSelect, minWidth: 120 }}\n                          >\n                            {ITEM_TYPES.map((t) => (\n                              <MenuItem key={t.value} value={t.value} sx={{ fontSize: \"13px\" }}>\n                                {t.label}\n                              </MenuItem>\n                            ))}\n                          </Select>\n                          <FormControlLabel\n                            control={\n                              <Switch\n                                size=\"small\"\n                                checked={newItemRequired}\n                                onChange={(e) => setNewItemRequired(e.target.checked)}\n                                sx={{\n                                  \"& .MuiSwitch-switchBase.Mui-checked\": {\n                                    color: VW_COLORS.primary,\n                                  },\n                                  \"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track\": {\n                                    backgroundColor: VW_COLORS.primary,\n                                  },\n                                }}\n                              />\n                            }\n                            label={\n                              <Typography sx={{ fontSize: \"11px\", fontFamily: VW_TYPOGRAPHY.fontFamily, color: VW_COLORS.textTertiary }}>\n                                Req\n                              </Typography>\n                            }\n                            sx={{ ml: \"4px\" }}\n                          />\n                          <Button\n                            variant=\"contained\"\n                            size=\"small\"\n                            onClick={() => handleCreateItem(phase.id)}\n                            disabled={!newItemName.trim() || saving}\n                            sx={vwButtonPrimary}\n                          >\n                            Add\n                          </Button>\n                          <Button\n                            variant=\"text\"\n                            size=\"small\"\n                            onClick={() => { setAddingItemForPhase(null); setNewItemName(\"\"); }}\n                            sx={{ ...vwButtonSecondary, border: \"none\" }}\n                          >\n                            Cancel\n                          </Button>\n                        </Stack>\n                      ) : (\n                        <Button\n                          variant=\"text\"\n                          size=\"small\"\n                          startIcon={<Plus size={14} />}\n                          onClick={() => setAddingItemForPhase(phase.id)}\n                          sx={{\n                            alignSelf: \"flex-start\",\n                            mt: \"12px\",\n                            textTransform: \"none\",\n                            fontSize: \"13px\",\n                            fontFamily: VW_TYPOGRAPHY.fontFamily,\n                            color: VW_COLORS.primary,\n                            \"&:hover\": {\n                              backgroundColor: VW_COLORS.bgAccent,\n                            },\n                          }}\n                        >\n                          Add item\n                        </Button>\n                      )}\n                    </Stack>\n                  </AccordionDetails>\n                </Accordion>\n              ))}\n\n              {/* Add new phase */}\n              <Box\n                sx={{\n                  border: `1px dashed ${VW_COLORS.borderDark}`,\n                  borderRadius: \"4px\",\n                  p: \"16px\",\n                  backgroundColor: VW_COLORS.bgMain,\n                }}\n              >\n                <Typography\n                  sx={{\n                    fontWeight: 600,\n                    fontSize: \"13px\",\n                    fontFamily: VW_TYPOGRAPHY.fontFamily,\n                    color: VW_COLORS.textSecondary,\n                    mb: \"12px\",\n                  }}\n                >\n                  Add new phase\n                </Typography>\n                <Stack sx={{ gap: \"10px\" }}>\n                  <TextField\n                    placeholder=\"Phase name\"\n                    value={newPhaseName}\n                    onChange={(e) => setNewPhaseName(e.target.value)}\n                    size=\"small\"\n                    fullWidth\n                    sx={vwTextField}\n                  />\n                  <TextField\n                    placeholder=\"Description (optional)\"\n                    value={newPhaseDesc}\n                    onChange={(e) => setNewPhaseDesc(e.target.value)}\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    fullWidth\n                    sx={vwTextField}\n                  />\n                  <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    startIcon={<Plus size={14} />}\n                    onClick={handleCreatePhase}\n                    disabled={!newPhaseName.trim() || saving}\n                    sx={{ ...vwButtonPrimary, alignSelf: \"flex-start\" }}\n                  >\n                    Create phase\n                  </Button>\n                </Stack>\n              </Box>\n            </Stack>\n          )}\n        </DialogContent>\n\n        <DialogActions\n          sx={{\n            px: \"20px\",\n            py: \"12px\",\n            borderTop: `1px solid ${VW_COLORS.borderLight}`,\n          }}\n        >\n          <Button variant=\"outlined\" onClick={() => setConfigOpen(false)} sx={vwButtonSecondary}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Delete phase confirmation */}\n      <Dialog open={deletePhaseId !== null} onClose={() => setDeletePhaseId(null)} sx={vwDialog}>\n        <DialogTitle\n          sx={{\n            fontWeight: 600,\n            fontSize: \"16px\",\n            fontFamily: VW_TYPOGRAPHY.fontFamily,\n            color: VW_COLORS.textPrimary,\n          }}\n        >\n          Delete phase\n        </DialogTitle>\n        <DialogContent>\n          <Typography\n            sx={{\n              fontSize: \"13px\",\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              color: VW_COLORS.textSecondary,\n            }}\n          >\n            Delete this phase and all its items? This cannot be undone.\n          </Typography>\n        </DialogContent>\n        <DialogActions sx={{ px: \"20px\", py: \"12px\" }}>\n          <Button onClick={() => setDeletePhaseId(null)} sx={vwButtonSecondary}>\n            Cancel\n          </Button>\n          <Button\n            onClick={confirmDeletePhase}\n            variant=\"contained\"\n            disabled={saving}\n            sx={{\n              ...vwButtonPrimary,\n              backgroundColor: VW_COLORS.error,\n              \"&:hover\": { backgroundColor: \"#dc2626\" },\n            }}\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Delete item confirmation */}\n      <Dialog open={deleteItemId !== null} onClose={() => setDeleteItemId(null)} sx={vwDialog}>\n        <DialogTitle\n          sx={{\n            fontWeight: 600,\n            fontSize: \"16px\",\n            fontFamily: VW_TYPOGRAPHY.fontFamily,\n            color: VW_COLORS.textPrimary,\n          }}\n        >\n          Delete item\n        </DialogTitle>\n        <DialogContent>\n          <Typography\n            sx={{\n              fontSize: \"13px\",\n              fontFamily: VW_TYPOGRAPHY.fontFamily,\n              color: VW_COLORS.textSecondary,\n            }}\n          >\n            Delete this item? This cannot be undone.\n          </Typography>\n        </DialogContent>\n        <DialogActions sx={{ px: \"20px\", py: \"12px\" }}>\n          <Button onClick={() => setDeleteItemId(null)} sx={vwButtonSecondary}>\n            Cancel\n          </Button>\n          <Button\n            onClick={confirmDeleteItem}\n            variant=\"contained\"\n            disabled={saving}\n            sx={{\n              ...vwButtonPrimary,\n              backgroundColor: VW_COLORS.error,\n              \"&:hover\": { backgroundColor: \"#dc2626\" },\n            }}\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","/**\n * ViewLifecycleButton - Icon button that navigates to model lifecycle detail page\n * Renders beside the gear icon in model inventory table\n */\n\nimport React from \"react\";\nimport { IconButton, Tooltip } from \"@mui/material\";\nimport { Layers } from \"lucide-react\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface ViewLifecycleButtonProps {\n  modelId: number;\n  modelName?: string;\n}\n\nconst ViewLifecycleButton: React.FC<ViewLifecycleButtonProps> = ({\n  modelId,\n}) => {\n  const navigate = useNavigate();\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    navigate(`/model-inventory/models/${modelId}`);\n  };\n\n  return (\n    <Tooltip title=\"View Lifecycle\" arrow placement=\"top\">\n      <IconButton\n        size=\"small\"\n        onClick={handleClick}\n        sx={{\n          color: \"#667085\",\n          \"&:hover\": {\n            color: \"#13715B\",\n            backgroundColor: \"rgba(19, 113, 91, 0.08)\",\n          },\n        }}\n      >\n        <Layers size={16} />\n      </IconButton>\n    </Tooltip>\n  );\n};\n\nexport default ViewLifecycleButton;\n","/**\n * ModelLifecycleDetail - Full page detail view for model lifecycle\n *\n * Injected into the model detail page slot.\n * Shows model header and lifecycle phases.\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  Stack,\n  Box,\n  Typography,\n  CircularProgress,\n  useTheme,\n} from \"@mui/material\";\nimport { ArrowLeft } from \"lucide-react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ModelLifecycleTab from \"./ModelLifecycleTab\";\n\ninterface ApiServices {\n  get: <T>(endpoint: string) => Promise<{ data: T }>;\n  post: <T>(endpoint: string, data?: any, config?: any) => Promise<{ data: T }>;\n  put: <T>(endpoint: string, data?: any) => Promise<{ data: T }>;\n  delete: <T>(endpoint: string) => Promise<{ data: T }>;\n}\n\ninterface ModelData {\n  id: number;\n  model?: string;\n  provider?: string;\n  provider_model?: string;\n  version?: string;\n  status?: string;\n}\n\ninterface ModelLifecycleDetailProps {\n  modelId: number;\n  apiServices?: ApiServices;\n}\n\nexport default function ModelLifecycleDetail({\n  modelId,\n  apiServices,\n}: ModelLifecycleDetailProps) {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const [model, setModel] = useState<ModelData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!modelId || !apiServices) return;\n\n    const fetchModel = async () => {\n      setLoading(true);\n      try {\n        const response = await apiServices.get<{ data: ModelData }>(\n          `/modelInventory/${modelId}`\n        );\n        setModel(response.data?.data || response.data);\n      } catch (error) {\n        console.error(\"Failed to fetch model:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchModel();\n  }, [modelId, apiServices]);\n\n  if (loading) {\n    return (\n      <Stack alignItems=\"center\" justifyContent=\"center\" sx={{ py: \"64px\" }}>\n        <CircularProgress />\n      </Stack>\n    );\n  }\n\n  if (!model) {\n    return (\n      <Stack alignItems=\"center\" justifyContent=\"center\" sx={{ py: \"64px\" }}>\n        <Typography>Model not found</Typography>\n      </Stack>\n    );\n  }\n\n  return (\n    <Stack spacing={0} sx={{ gap: \"16px\", maxWidth: \"1400px\", width: \"100%\" }}>\n      {/* Header card */}\n      <Box\n        sx={{\n          border: `1px solid ${theme.palette.divider}`,\n          borderRadius: \"4px\",\n          p: \"20px\",\n          backgroundColor: theme.palette.background.paper,\n        }}\n      >\n        <Stack sx={{ gap: \"16px\" }}>\n          <Box\n            component=\"button\"\n            onClick={() => navigate(\"/model-inventory\")}\n            sx={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"8px\",\n              background: \"none\",\n              border: \"none\",\n              cursor: \"pointer\",\n              padding: 0,\n              color: theme.palette.text.secondary,\n              fontSize: \"14px\",\n              \"&:hover\": {\n                color: theme.palette.text.primary,\n              },\n            }}\n          >\n            <ArrowLeft size={16} />\n            Back to Model Inventory\n          </Box>\n\n          <Stack\n            direction=\"row\"\n            alignItems=\"center\"\n            justifyContent=\"space-between\"\n            flexWrap=\"wrap\"\n            sx={{ gap: \"16px\" }}\n          >\n            <Stack sx={{ gap: \"6px\" }}>\n              <Typography\n                sx={{\n                  fontWeight: 600,\n                  fontSize: \"16px\",\n                  color: theme.palette.text.primary,\n                }}\n              >\n                {model.model || model.provider_model}\n              </Typography>\n              <Stack direction=\"row\" sx={{ gap: \"16px\" }}>\n                {model.provider && (\n                  <Typography\n                    sx={{\n                      fontSize: \"13px\",\n                      color: theme.palette.text.secondary,\n                    }}\n                  >\n                    Provider: <strong>{model.provider}</strong>\n                  </Typography>\n                )}\n                {model.version && (\n                  <Typography\n                    sx={{\n                      fontSize: \"13px\",\n                      color: theme.palette.text.secondary,\n                    }}\n                  >\n                    Version: <strong>{model.version}</strong>\n                  </Typography>\n                )}\n              </Stack>\n            </Stack>\n          </Stack>\n        </Stack>\n      </Box>\n\n      {/* Lifecycle content */}\n      <ModelLifecycleTab modelId={modelId} apiServices={apiServices} />\n    </Stack>\n  );\n}\n"],"names":["defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","className","children","rest","ref","createElement","tag","attrs","ArrowDown","ArrowLeft","ArrowUp","Check","ChevronRight","FileText","GitCommitVertical","Layers","List","Pencil","Plus","Settings","Trash2","Upload","X","useModelLifecycle","modelId","apiServices","enabled","phases","setPhases","useState","loading","setLoading","error","setError","fetchData","useCallback","response","_a","err","useEffect","useLifecycleProgress","progress","setProgress","useLifecycleConfig","includeInactive","query","LifecycleSidebar","activePhaseId","onPhaseSelect","phaseData","useMemo","phase","phaseProgress","p","handleClick","phaseId","jsxs","Stack","Box","jsx","Typography","index","isActive","isComplete","hasProgress","VW_COLORS","VW_TYPOGRAPHY","vwInputSx","vwButtonOutlined","vwChipSx","LifecycleItemField","item","onValueChanged","value","TextFieldRenderer","DocumentsFieldRenderer","PeopleFieldRenderer","ClassificationFieldRenderer","ChecklistFieldRenderer","ApprovalFieldRenderer","multiline","config","text","setText","saving","setSaving","savedRef","useRef","handleBlur","TextField","e","CircularProgress","files","uploading","setUploading","fileInputRef","handleFileSelect","selectedFiles","file","formData","result","fileId","_b","_c","handleRemoveFile","IconButton","currentPeople","selectedUserId","setSelectedUserId","users","setUsers","loadingUsers","setLoadingUsers","React","usersData","getUserName","userId","user","u","handleAdd","userName","updated","handleRemove","availableUsers","Chip","Select","MenuItem","Button","levels","currentValue","selected","setSelected","handleChange","level","RadioGroup","FormControlLabel","Radio","defaultItems","label","savedItems","items","setItems","newItemText","setNewItemText","saveItems","updatedItems","toggleItem","it","i","addItem","removeItem","_","Checkbox","currentApprovals","approvals","setApprovals","saveApprovals","handleStatusChange","status","a","addApprover","removeApprover","getStatusColor","getStatusBgColor","approval","Fragment","LifecyclePhaseContent","LifecycleStepperLayout","setActivePhaseId","activePhase","handlePhaseSelect","LifecycleProgressBar","onPhaseClick","getPhaseColor","filled","total","pct","Tooltip","LifecyclePhasePanel","expanded","onToggle","totalItems","filledItems","val","chipColor","Accordion","AccordionSummary","AccordionDetails","ModelLifecycleTab","refresh","refreshProgress","viewMode","setViewMode","expandedPhases","setExpandedPhases","phaseRefs","handleValueChanged","handleViewModeChange","newMode","togglePhase","prev","next","handlePhaseClick","el","firstPhaseId","ToggleButtonGroup","ToggleButton","vwButtonPrimary","vwButtonSecondary","vwTextField","vwSelect","vwAccordion","vwAccordionSummary","vwDialog","ITEM_TYPES","ModelLifecycleConfig","configOpen","setConfigOpen","newPhaseName","setNewPhaseName","newPhaseDesc","setNewPhaseDesc","addingItemForPhase","setAddingItemForPhase","newItemName","setNewItemName","newItemType","setNewItemType","newItemRequired","setNewItemRequired","deletePhaseId","setDeletePhaseId","deleteItemId","setDeleteItemId","editingPhaseId","setEditingPhaseId","editingPhaseName","setEditingPhaseName","toggleExpanded","handleCreatePhase","confirmDeletePhase","handleMovePhase","direction","idx","newIdx","oldPhases","newPhases","orderedIds","handleRenamePhaseSave","newName","trimmed","oldName","handleTogglePhaseActive","handleCreateItem","confirmDeleteItem","handleToggleItemRequired","itemId","isRequired","handleMoveItem","newItems","Dialog","DialogTitle","DialogContent","phaseIdx","Switch","itemIdx","t","DialogActions","ViewLifecycleButton","navigate","useNavigate","ModelLifecycleDetail","theme","useTheme","model","setModel"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}